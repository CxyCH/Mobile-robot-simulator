<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="72,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T11U3">ref_cart_pos_list</span> = get_ref_cart_pos(<span class="var type1" id="S3T28U6">ref_pos</span>, <span class="var type1" id="S4T11U7">rel_cart_pos</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="72,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="72,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% Get Reference Cartesian Position from Relative Cartiesian Position  </span></span></span>
<span class="srcline"><span class="lineno"><a href="72,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="72,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T2:U4"><span class="var type1" id="S5T2U10">ref_x</span>    = <span class="mxinfo " id="T2:U6"><span class="var type1" id="S3T28U12">ref_pos</span>(<span class="mxinfo " id="T2:U8">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T2:U9"><span class="var type1" id="S6T2U16">ref_y</span>    = <span class="mxinfo " id="T2:U11"><span class="var type1" id="S3T28U18">ref_pos</span>(<span class="mxinfo " id="T2:U13">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T2:U14"><span class="var type1" id="S7T2U22">ref_deg</span>  = <span class="mxinfo " id="T2:U16"><span class="var type1" id="S3T28U24">ref_pos</span>(3)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="72,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T2:U18"><span class="var type1" id="S8T2U28">nr_polar_pos</span> = <span class="mxinfo " id="T2:U20">size(<span class="var type1" id="S4T11U31">rel_cart_pos</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T11:U22"><span class="var type1" id="S2T11U35">ref_cart_pos_list</span> = <span class="mxinfo " id="T11:U24">zeros(<span class="mxinfo " id="T2:U25"><span class="var type1" id="S8T2U38">nr_polar_pos</span></span>, <span class="mxinfo " id="T2:U27">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,11" id="srcline11">11</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S11T2U42">i</span> = <span class="mxinfo " id="T2:U29">1:<span class="var type1" id="S8T2U45">nr_polar_pos</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="72,12" id="srcline12">12</a></span><span class="line">    <span class="mxinfo " id="T2:U31"><span class="var type1" id="S12T2U48">curr_rel_x</span> = <span class="mxinfo " id="T2:U33"><span class="var type1" id="S4T11U50">rel_cart_pos</span>(<span class="mxinfo " id="T9:U35"><span class="var type1" id="S11T9U51">i</span></span>, <span class="mxinfo " id="T9:U37">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,13" id="srcline13">13</a></span><span class="line">    <span class="mxinfo " id="T2:U38"><span class="var type1" id="S13T2U55">curr_rel_y</span> = <span class="mxinfo " id="T2:U40"><span class="var type1" id="S4T11U57">rel_cart_pos</span>(<span class="mxinfo " id="T9:U42"><span class="var type1" id="S11T9U58">i</span></span>, <span class="mxinfo " id="T9:U44">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo " id="T2:U45"><span class="var type1" id="S14T2U62">curr_rel_r</span> = <span class="mxinfo " id="T2:U47">norm(<span class="mxinfo " id="T11:U48">[<span class="var type1" id="S12T2U67">curr_rel_x</span> <span class="var type1" id="S13T2U68">curr_rel_y</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo " id="T2:U51"><span class="var type1" id="S16T2U71">curr_rel_deg</span> = <span class="mxinfo " id="T2:U53"><span class="mxinfo " id="T2:U54"><span class="mxinfo " id="T2:U55">atan2(<span class="var type1" id="S13T2U76">curr_rel_y</span>, <span class="var type1" id="S12T2U77">curr_rel_x</span>)</span>*<span class="mxinfo " id="T2:U58">180</span></span>/<span class="mxinfo " id="T2:U59">pi</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,16" id="srcline16">16</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="72,17" id="srcline17">17</a></span><span class="line">    <span class="comment">% cartesian pos</span></span></span>
<span class="srcline"><span class="lineno"><a href="72,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T2:U60"><span class="var type1" id="S19T2U83">curr_cart_x</span> = <span class="mxinfo " id="T2:U62"><span class="var type1" id="S5T2U85">ref_x</span> <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="72,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T2:U60"><span class="mxinfo " id="T2:U62">        + <span class="mxinfo " id="T2:U64"><span class="var type1" id="S14T2U87">curr_rel_r</span>*<span class="mxinfo " id="T2:U66">cos(<span class="mxinfo " id="T2:U67"><span class="mxinfo " id="T2:U68">pi/180</span>*(<span class="mxinfo " id="T2:U69"><span class="var type1" id="S7T2U97">ref_deg</span>+<span class="var type1" id="S16T2U98">curr_rel_deg</span></span>)</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T2:U72"><span class="var type1" id="S21T2U101">curr_cart_y</span> = <span class="mxinfo " id="T2:U74"><span class="var type1" id="S6T2U103">ref_y</span> <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="72,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T2:U72"><span class="mxinfo " id="T2:U74">        + <span class="mxinfo " id="T2:U76"><span class="var type1" id="S14T2U105">curr_rel_r</span>*<span class="mxinfo " id="T2:U78">sin(<span class="mxinfo " id="T2:U79"><span class="mxinfo " id="T2:U80">pi/180</span>*(<span class="mxinfo " id="T2:U81"><span class="var type1" id="S7T2U115">ref_deg</span>+<span class="var type1" id="S16T2U116">curr_rel_deg</span></span>)</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,22" id="srcline22">22</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="72,23" id="srcline23">23</a></span><span class="line">    <span class="comment">% ref cart pos</span></span></span>
<span class="srcline"><span class="lineno"><a href="72,24" id="srcline24">24</a></span><span class="line">    <span class="mxinfo " id="T11:U84"><span class="var type1" id="S23T11U119">curr_cart_pos</span> = <span class="mxinfo " id="T11:U86">[<span class="var type1" id="S19T2U122">curr_cart_x</span> <span class="var type1" id="S21T2U123">curr_cart_y</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,25" id="srcline25">25</a></span><span class="line">    <span class="mxinfo " id="T11:U89"><span class="mxinfo " id="T11:U90"><span class="var type1" id="S2T11U127">ref_cart_pos_list</span>(<span class="mxinfo " id="T2:U92"><span class="var type1" id="S11T2U128">i</span></span>, <span class="mxinfo " id="T33:U94">:</span>)</span> = <span class="var type1" id="S23T11U130">curr_cart_pos</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="72,26" id="srcline26">26</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="72,27" id="srcline27">27</a></span><span class="line"></span></span>
</pre>
